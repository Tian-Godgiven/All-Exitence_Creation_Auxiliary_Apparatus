





[toc]



## 当前任务：  

### 纯功能：

标签属性：从标签库中选择

7.输入辅助栏，快捷输入撤销返回复制粘贴等等……
还要测试移动端是否能够显示在输入法上方

未完成内容！

主页面输入内容使得输入法抬升时，当前选中的位置滚动到指定位置，并在失去输入法后滚动回去（待测试）

4.所有拖动效果
4.1.拖动任务mission改变顺序没做完：怎么做是一个问题哈

5.控制面板功能补全
复制，编辑，删除

### 页面

1.new APP设置页面
2.new 项目设置页面
3.new 回收站→只管理项目和5个对象
4.new 输入建议管理→待定
5.new 预制属性+预制分类，管理页面

*在弹窗中显示文章对象*

右侧页面：设置
app设置：选择字体，字号
项目设置：有哪些？？？尚不明确
1.事物div的样式：颜色/字体
2.启用输入建议的范围：文本/事物输入

回收站页面：当前项目！
删除了项目怎么办→特殊的管理页面
所有删除操作都会存入，信息包含删除对象，删除时间，删除来源，如何复原（复原函数）

快捷输入/输入建议管理(差一个界面)：
1.手动为事物赋予别名manual
2.手动输入建议

预制属性管理页面：app全局
预制属性：人物关系，别名（默认作为事物的别名设置）
预制分类：人物，地点，物品，状态，阵营，团体，

搜索功能：弹窗
搜索包含分类名称，分组名称，事物名称，事物属性+值，章节名称，文章名称，文章内容
事物的别名设置，要能通过别名找到事物对象



### 样式

popUp延迟显示，渐隐渐显效果，popUp的关闭按键

输入属性值，输入框变淡灰色

containerLine（左侧页面的分类分组章节）的聚焦样式

datePicker的样式

popUp弹窗的关闭按钮的尺寸

showQuickInfo的样式

事物新增属性样式Bug

css样式类

popUp的内容：确认和返回按键！贴底不消失！→贴底不消失做不到啊，得让其他inner自行改动，设定其inner一个max-height 

图标！图标！

### bug

移动端的左右拖拽事件有点问题，输入辅助栏是否正确显示在输入法上面？

时间线：3.非date时间轴的起始时间存在错误

关联属性的时间属性对应的时间表达式无效时，无法正确修改对应的时间属性的setting值,时间属性默认值对关联属性的子属性不生效，

 multiStatusExpression的输入建议发生了改变，与当前需求不符

还差哪些css？

## 弃置任务：

x 分类设置：分类的name不可重复→没有意义
x 复合表达式 报错 还有Bug，字符和符号连用不行→复现失败
multiPartValue中的属性和分类属性疑似非响应式→没有测试出问题
设置项类型：inputArray→不做了！



## ok了的：

输入：没有任何显示，只有一个placeholder √
输入框：一个最小两行的框体，宽度最大 √
滑动：禁止页面拖拽事件 √
开关：黑灰两色？√

复制文本→ok

第1次之后再点击任务列表中的缩略任务展开任务详情时报错→textArea禁用时仍然执行了选中事件导致的

编辑任务进入编辑页面时失去任务内容→ok

插入新章节/文本到指定为止→ok

添加新事物Bug→疑似加入到group问题→在vue里面多打了一个符号，无语

1.滚动效果：滚动到左侧对象 √
2.右侧页面的图标 → 导入插件同时导入图标到icon内→√
3.显示更多的菜单功能:左侧页面：【显示更多】的菜单效果和功 能→做了个简单的菜单组件 √

3.5.项目管理页面→ok

聚焦到某一个左侧页面的分组/文章/章节/事物，展开这些容器div：需要知道文本的一整条路径，但是聚焦时是否要打开左侧页面呢？设定是否打开左侧页面吧
→章节事物被聚焦时的样式，聚焦到事物对象，以及还要切换左侧页面的mode
聚焦时，还要滚动到指定位置→ok

长按时移出longTap后pointerUp失效 →移出后撤销计时器→监听点开位置是否为自身√

分组变背景色，使用分组框→√
分类分组章节使用下边框，最上面的标题也用就行了→√

左侧页面样式：preview的字体颜色和字体大小→ok
事物与文章之间的分隔线条，以及padding效果要在longTap里面→√

左侧页面重置
章节和文本要有一个依次收缩的效果，但收缩不要太大了，但也要注意样式→ok
事物和文章对象聚焦样式和整体模板→ok
点击事物/文章聚焦（不许需要展开）+显示→ok

拖动的Handler没有正确加载！→ok

拖动功能要注意：拖拽改变状态时，要避免重复设置为相同的状态→ok

显示左侧页面对象时，是否要将其聚焦？→肯定要聚焦啊！
统一拖动组件没有弄好，一些冲突部分没有很好地解决→做好了

主界面右下弹球做成+章节/文本 +分类/事物的快捷键，创建新章节后，快捷创建新文本理应创建到该章节内，分类同理！直接打开左侧页面，聚焦到该分类上！不要空页面！

此外，还要根据当前模式切换创建章节or创建分类→ok 

另外也要保存用户上一次看到的位置，是方位而不是文件：不对，是要保存什么？每个文档都要保存上一次看到的位置吧，不然切换文档怎么办？
要在切换内容时记录上一份文档的scrollTop
这个scrollTop是谁的scrollTop?是inner的scrollTop而不是其他的→done

事物的拖动调整顺序没了！→ok

管理模式拖动事物时会触发app的总拖动事件 →要好好管理所有拖动事件→使用dragHandler阻止事件传播 

事物名称同步属性，事物设置/分类设置时没能正确显示属性名称，退格没有同步，why？→退格事件没有被处理！

删除文章/事物时回到空页面→√

没有记录上一次访问的位置→改变文章所属位置时，没有一同改变文章的from属性！

所有的mousedown和touchStart事件→统一使用pointer事件

2.有多个时间线时，删除上面的一个元素，会使得下面的时间线的时间轴错乱，重新加载后没有该问题→是因为使用的timeRule没有刷新

2.1.同样的情况，时间轴的内容出现问题，怀疑同样是timeRule没有刷新的缘故→并非，是排序时未使用key导致错误更新

1.选择事物时，切换目标属性时，事物的选中状态错误变化→原因是every方法会令空数组在任何情况下为true

时间属性值无效时，要判断到底是type的时间属性无效，还是事物的时间属性无效，从而进行修正！→√

每条时间轴都会渲染两次？为什么？→疑似与computed属性有关，之后虽然还要做刻度相关的调整，但此时使用函数解决

大致完成了暂记版

任务清单＋计时器：一个创建任务内容＋选择是否定时的一个列表系统，到了时间会让用户选择这个任务是否完成了，还有就是可以选择是否重复任务，会记录重复的次数

标签的展开和收起→ok
修改重复任务or再次任务的时间：按照之前任务设定的预期时间→ok了
文件保存→ok

按钮组件，按钮栏组件？ →做了按钮组件，但是没有做特效

考虑把group的创建更新弹窗改成一个，参见editType弹窗→done

折叠和展开→ok

分类+分组+事物排序   分类内的事物排序→显示所有事物，不显示分组内事物，在分类内部移动事物→done

文章部分：要做一个无限嵌套的章节系统，以及在这个章节系统下的移动→文章和章节能够相互移动到内部，同时还要做一个“进入内部了”的样式→done

点击左侧上方的：管理→全局对内容进行删除+分类、分组、事物、文章、章节的排序→done

经过了一次筛查后，原本被加入分组的对象，没有被加入分组了→ok
删除分组后，分组内的事物没有即时显示出来→ok

属性排序+创建/编辑分类+显示事物onMain中都可以分别对属性值进行排序
分类属性√，事物属性√，分组规则√

text:"取代属性名显示：", →ok
noStatusNameInExitence 在事物中不显示属性名 →ok
"修改时显示输入框",→ok

分类的设置→大致没有问题！懒得测了！

事物设置：
name:"syncWithName",：→ok
name:"previewStatus",→ok
name:"nickName",→ok
name:"autoCompleteNickName",→ok
name:"autoCompleteText",→ok

2.改变别名属性时，重新创建事物别名输入建议→ok
3.删除事物/分类时删除对应的输入建议→ok

创建事物的选项→不创建标签属性→还做了分类设置

设置项的值应该可以被外界修改→响应式→用了监听的方法

事物名称改变时，改变其相应的输入提示→做了

相应的跳转框要怎么改变呢？→跳转内容在加载时会自动根据事物的信息刷新
→别名要怎么办？→给一个信息tag？→感觉做得不够优雅啊，先等一下测试吧→做好了

2.别名没有提示 →有了

事物设置没能正确显示已进行的设置值→ok了

没能正确显示属性名称而是显示了属性key→ok

3.指定属性值为事物预览属性有误→修好了

3.事物div的长度很怪→额外存储node的文本内容为inner

修改事物的设置页面→做好了

事物设置，分类设置：有共通的设置，如何解忧？→没办法做两个表

设置box的样式：如果文本太长了就挪到第二行去→文本换行

设置组件做好了

输入类属性可以指定placeholder，同时这些属性可以指定是否启用输入提示→ok

标签 tags
可以选择是否显示“新增标签” →done

把Placeholder同步进去了！→修好了

关联设置：标题+增加按键→做了

设置有问题啊，没有使用同步的status对象→修好了

创建章节页面没有做好→ok

popUp多个弹窗会导致旧弹窗

弹窗要在序号更新时更新，而不是内容更新时更新→新添加了弹窗不更新，但是删除了弹窗要更新？？→使用popup的index作为key被刷新从

而数据出现变化→key属性导致的

文章内仅有一个对象时被视为空？？？→可能是因为修改了textarea的内容后，没有将其同步到articleInner导致的→给inputsuggestion做一个异步？→给他传了一个回调事件，因为同一时间只有一个textArea会调用输入提示

手动保存按键→做了

复合属性内容显示：换行有问题 → 和单位设置产生冲突，大概ok了
复合属性在事物里面的提示信息有问题 ：本质上是因为对引用属性的搜索出现了问题，没能找到正确的对象→修改对引用属性的搜索，差不多做完了，可能还有一些bug
事物对象中的引用属性失去响应式？？？→虽然修好了，但是感觉还是有点不稳妥……？？？初始值为空怎么办？？？设置怎么办？？？能够找到typeStatus吗？？？重点观察multiPartValue，其没有传typeStatus出去！→传了一个typeStatus就好了

事物是否需要key→可能需要，但目前可以延后处理→用了nanoid处理

输入补全在完整输入时不起作用？？？→中文输入不行！要用compositionstart系列！

项目page的mask→整理了一下mask和hideshow动画

项目同名时创建失败→有防重名措施啊？→没有启用，真是笨蛋！

项目信息编辑→ok了
删除项目→ok了

章节名称编辑，创建章节创建文本→做完了

项目的增删改，切换项目，重命名（包括文件夹

编辑分类名称时注意：事物是依靠分类名称来索引的！！！不能这么做→给分类也整了一个nanoid

修复了编辑属性时即使取消编辑属性也会对属性本身造成修改的bug：顺便还更好地利用了全部reactive的特性，修改了主页面显示事物的逻辑，都是响应式的干嘛还用v-model嘛！还顺便把create和update属性页面合并了

 分类的删除和编辑→分类和分组的都做了 

事物和文章的删除→长按弹出控制面板，目前制作了删除

切换项目时，记录看到了的地方，在下一次切换到该项目时移动到该位置→没有做退出记录，怎么办好呢？

软件初始页面和项目初始页面→ok了

全局的输入建议文件要放在appData里面 → 做了

跳转对象的逻辑会不会太复杂了？？？事物对象的数据到底要怎么绑定更好？？？是否该用data对象？→data对象反而更麻烦吧！→用了weakmap对象！

哪些输入要字符串，哪些要文本内容：用标识符确定吧！然后内容预览的地方就还是用翻译！→做了，用mode区分

事物div的填充还要注意文本内容的保存与转换 →做了，但还有一点bug

1.事物属性的显示出现问题→修好了，要immdietly监听

3.手机端无法读取文件?无法创建文件夹？→文件夹名称错误了，多了个大写

2.中文输入法打全没有提示→pc端不支持composition→原来支持input获取输入法，那没事了

文章字数的检测有误→事物对象的内容就不计算了吧，主要是有空格→ok了，是jumpdiv的span前后有换行导致的，无语

删除标题后标题位置为空→使用trim筛查空格和换行

章节名不可为空→添加了章节名验证

保存项目的输入提示表→保存项目的同时保存      
