





[toc]



## 当前任务： 



事物设置，分类设置
分类设置：指定属性与事物的name同步：该属性只能是input？
事物设置：指定属性显示在事物的tagName，可以被搜索到的别名
对分类/事物对象进行设置，一旦输入了完整的关键字时，无需点击输入提示，自动对符合要求的文本内容产生跳转功能
事物自动补全时，补全的内容可以设置，例如小明的自动补全内容可以是“王明”

嵌套属性？复合属性设置：可以指定一个部分，创建该部分的复制品，用于关系：人物+关系名称这一类，复制子属性？
输入类属性可以指定placeholder，同时这些属性可以指定是否启用输入提示

项目排序，属性排序+创建/编辑分类+显示事物中都可以分别对属性值进行排序

文章部分：要做一个无限嵌套的章节系统，以及在这个章节系统下的移动

点击管理→对内容进行删除+分类、分组、事物、文章、章节的排序

移动端的左右拖拽事件有点问题的

辅助功能：

任务清单＋计时器：完全独立，大概需要2天？
写作日历：同上，涉及到系统信息，1天
时间线/事件导图/人物关系图：重头戏，和事物属性强相关，要做日期属性，还要做预设日期表达式，预估要2－3天，思维导图做过但是和生成思维导图不一样
暂记版：很简单？1天以内
大纲设计＋快速生成事物：需要设计大纲表达式，2天？
人设生成器生成器：导入文件接口，2天？
快捷输入/输入建议管理(差一个界面)：1天以内

预制属性：人物关系

预制分类：人物，地点，物品，状态，阵营，团体，

css

长按动画和点击动画，水波状？

聚焦到某一个左侧页面的分组/文章/章节/事物，展开这些容器div：需要知道文本的一整条路径

搜索功能

项目设置：有哪些？？？尚不明确

左侧对象长按弹出页面→复制？单独移位？（分类/分组/章节） 

编辑分类时，若新增了属性，会给其中的所有事物添加该属性：可用性存疑

考虑把group的创建更新弹窗改成一个，参见editType弹窗

mask真的不能互用吗？→要不咱还是不考虑这个了吧

夜间模式→看一下tauri api 的 app 的 setTheme：这玩意对移动端有效吗？https://github.com/wyhaya/tauri-plugin-theme

## 弃置任务：

x 分类设置：分类的name不可重复→没有意义
x 复合表达式 报错 还有Bug，字符和符号连用不行→复现失败

## 搁置任务：

保存：至少要做一个退出前自动保存！→做不到啊！！！！先做定时自动保存吧呜呜

另外也要保存用户上一次看到的位置



## ok了的：

文章内仅有一个对象时被视为空？？？→可能是因为修改了textarea的内容后，没有将其同步到articleInner导致的→给inputsuggestion做一个异步？→给他传了一个回调事件，因为同一时间只有一个textArea会调用输入提示

手动保存按键→做了

复合属性内容显示：换行有问题 → 和单位设置产生冲突，大概ok了
复合属性在事物里面的提示信息有问题 ：本质上是因为对引用属性的搜索出现了问题，没能找到正确的对象→修改对引用属性的搜索，差不多做完了，可能还有一些bug
事物对象中的引用属性失去响应式？？？→虽然修好了，但是感觉还是有点不稳妥……？？？初始值为空怎么办？？？设置怎么办？？？能够找到typeStatus吗？？？重点观察multiPartValue，其没有传typeStatus出去！→传了一个typeStatus就好了

事物是否需要key→可能需要，但目前可以延后处理→用了nanoid处理

输入补全在完整输入时不起作用？？？→中文输入不行！要用compositionstart系列！

项目page的mask→整理了一下mask和hideshow动画

项目同名时创建失败→有防重名措施啊？→没有启用，真是笨蛋！

项目信息编辑→ok了
删除项目→ok了

章节名称编辑，创建章节创建文本→做完了

项目的增删改，切换项目，重命名（包括文件夹

编辑分类名称时注意：事物是依靠分类名称来索引的！！！不能这么做→给分类也整了一个nanoid

修复了编辑属性时即使取消编辑属性也会对属性本身造成修改的bug：顺便还更好地利用了全部reactive的特性，修改了主页面显示事物的逻辑，都是响应式的干嘛还用v-model嘛！还顺便把create和update属性页面合并了

 分类的删除和编辑→分类和分组的都做了 

事物和文章的删除→长按弹出控制面板，目前制作了删除

切换项目时，记录看到了的地方，在下一次切换到该项目时移动到该位置→没有做退出记录，怎么办好呢？

软件初始页面和项目初始页面→ok了

全局的输入建议文件要放在appData里面 → 做了

跳转对象的逻辑会不会太复杂了？？？事物对象的数据到底要怎么绑定更好？？？是否该用data对象？→data对象反而更麻烦吧！→用了weakmap对象！

哪些输入要字符串，哪些要文本内容：用标识符确定吧！然后内容预览的地方就还是用翻译！→做了，用mode区分

事物div的填充还要注意文本内容的保存与转换 →做了，但还有一点bug

1.事物属性的显示出现问题→修好了，要immdietly监听

3.手机端无法读取文件?无法创建文件夹？→文件夹名称错误了，多了个大写

2.中文输入法打全没有提示→pc端不支持composition→原来支持input获取输入法，那没事了

文章字数的检测有误→事物对象的内容就不计算了吧，主要是有空格→ok了，是jumpdiv的span前后有换行导致的，无语

删除标题后标题位置为空→使用trim筛查空格和换行

章节名不可为空→添加了章节名验证

保存项目的输入提示表→保存项目的同时保存
