[toc]

# 暂记版 quickDraft

## 介绍

一个用于暂记一些临时文本内容的快捷输入插件。

管理页面：管理当前项目中的暂记对象，暂记对象竖向排列并显示部分内容和最近一次的更新事件，在管理模式下可以进行删除和改变顺序。点击暂记对象可聚焦到该对象，长按弹出控制面板选择删除删除指定暂记对象。顶部按钮可以创建新暂记对象，切换管理页面，切换是否显示浮窗。

聚焦页面：显示指定的暂记对象内容，并允许进行编辑，使用all输入建议。顶部的按钮可以选择在上下暂记对象间切换，返回管理页面，收起暂记版显示浮窗。点击[+]按钮可以创建并聚焦到新暂记对象，该新暂记对象会放置在上一个聚焦的暂记对象之后。

悬浮窗：悬浮在界面上层的小方块
收起时，可以自由拖拽移动，拖出应用程序边缘（3/4在边缘外部）时会隐藏悬浮窗。点击可以根据方块的相对位置展开，展开后的尺寸固定。
展开时，显示当前聚焦的暂记对象，允许上下切换和新建。点击按钮弹出暂记版或收起。

## 数据结构

### 暂记版 quickDraft

存储在`projects/项目名称/data/quickDraft.json`中的数组对象，其中存储暂记对象和相关设置

~~~
{
	quickDraft:QuickDraftItem[],
	setting:{
		focusingItem:string, //当前聚焦的悬浮窗对象的__key
		floatWindow:{
            show:boolean, //是否显示悬浮窗
            position:[string,string] //当前悬浮窗显示的位置
        }
    }
}
~~~



### 暂记对象 quickDraftItem

~~~
{
	inner:TextInner, //暂记对象记录的文本内容
	time:Date number //暂记对象上一次更新的时间
	__key:nanoid()
}
~~~

